<!DOCTYPE html>
<html>
<head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NW9V83R');</script>
<!-- End Google Tag Manager -->
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NW9V83R"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<script>
	const urlParams = new URLSearchParams(location.search);
	dataLayer.push({ "key": urlParams.get("key")});
	dataLayer.push({ "value": urlParams.get("value")});
</script>

<h1>Brian Ip</h1>
<p>2023 Implementation Engineer Tech Test</p>
<br>

<button type="button" onclick="getRequest()">Get API Request Button</button>

<script>
function getRequest(){
	//fetch("https://httpbin.org/" + location.search)
	fetch("https://httpbin.org/?key=" + gtm_key + "&value=" + gtm_value) //dataLayer variables
 	 .then((data) => console.log(data));
}
</script>
</body>
</html>